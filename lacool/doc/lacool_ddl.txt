CREATE TABLE BOARD_INFO
(
	BOARD_ID  VARCHAR(10)  NOT NULL ,
	BOARD_FORM  VARCHAR(3)  NULL ,
	DEL_YN  CHAR(1)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  CHAR(18)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE BOARD_INFO ADD PRIMARY KEY (BOARD_ID);


CREATE TABLE CATE_INFO
(
	CATE_ID  VARCHAR(10)  NOT NULL ,
	CATE_NM  VARCHAR(100)  NULL ,
	UP_CATE_ID  VARCHAR(10)  NULL ,
	DEL_YN  CHAR(1)  NULL ,
	CATE_ORD_NO  INT  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE CATE_INFO	ADD  PRIMARY KEY (CATE_ID);


CREATE TABLE CATE_REQ_INFO
(
	REQ_SEQ  INT  NOT NULL PRIMARY KEY AUTO_INCREMENT,
	CATE_NM  VARCHAR(100)  NULL ,
	CATE_REQ_DIV  VARCHAR(3)  NULL ,
	UP_CATE_ID  VARCHAR(10)  NULL ,
	USER_ID  VARCHAR(20)  NULL ,
	MOBILE  VARCHAR(50)  NULL ,
	EMAIL  VARCHAR(100)  NULL ,
	APPLY_STAT_CD  VARCHAR(3)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;



CREATE TABLE EVAL_INDEX
(
	EVAL_INDEX_SEQ  INT  NOT NULL PRIMARY KEY AUTO_INCREMENT,
	NOTI_EVAL_DIV  VARCHAR(3)  NULL ,
	INDEX_CD  VARCHAR(3)  NULL ,
	CLICK_CNT  INT  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
 


CREATE TABLE NOTI_APND_FILE
(
	APND_FILE_SEQ  INT  NOT NULL PRIMARY KEY AUTO_INCREMENT,
	NOTI_ID  VARCHAR(10)  NOT NULL ,
	APND_FILE_TP  VARCHAR(3)  NULL ,
	APND_FILE_SZ  INT  NULL ,
	APND_FILE_ORGN  VARCHAR(500)  NULL ,
	APND_FILE_NM  VARCHAR(100)  NULL ,
	APND_FILE_PATH  VARCHAR(200)  NULL ,
	DEL_YN  CHAR(1)  NULL ,
	APND_FILE_PRE_NM  VARCHAR(100)  NULL ,
	APND_FILE_PRE_PATH  VARCHAR(200)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE  UNIQUE INDEX PK_NOTI_APND_FILE ON NOTI_APND_FILE
(
	NOTI_ID,
	APND_FILE_SEQ
);

 
CREATE TABLE NOTI_EVAL_INFO
(
	EVAL_SEQ  INT  NOT NULL PRIMARY KEY AUTO_INCREMENT,
	NOTI_ID  VARCHAR(10)  NOT NULL ,
	NOTI_EVAL_DIV  VARCHAR(3)  NOT NULL ,
	USER_ID  VARCHAR(20)  NOT NULL ,
	USER_NM  VARCHAR(50)  NULL ,
	DEL_YN  CHAR(1)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE  UNIQUE INDEX PK_NOTI_EVAL_INFO ON NOTI_EVAL_INFO
(
	NOTI_ID,
	USER_ID,
	NOTI_EVAL_DIV
);

CREATE TABLE NOTI_INFO
(
	NOTI_ID  VARCHAR(10)  NOT NULL ,
    UP_NOTI_ID  VARCHAR(10)  NOT NULL ,
    NOTI_SEQ INT NULL,
	BOARD_ID  VARCHAR(10)  NULL ,
	NOTI_KIND  VARCHAR(3)  NULL ,
	NOTI_TITLE  VARCHAR(200)  NULL ,
	NOTI_CONTS  VARCHAR(4000)  NULL ,
	NOTI_URL  VARCHAR(200)  NULL ,
	NOTI_OPN_DIV  VARCHAR(3)  NULL ,
	FB_REG_YN  CHAR(1)  NULL ,
	DEL_YN  CHAR(1)  NULL ,
	STAT_CD  CHAR(1)  NULL ,
	USER_ID  VARCHAR(20)  NULL ,
	USER_NM  VARCHAR(50)  NULL ,
	NOTI_READ_CNT  INT  NULL ,
	NOTI_OK_CNT  INT  NULL ,
	NOTI_NG_CNT  INT  NULL ,
	NOTI_OPN_CNT  INT  NULL ,
	NOTI_BGN_DTTM  DATE  NULL ,
	NOTI_END_DTTM  DATE  NULL ,
	SCRAP_CNT  INT  NULL ,
	CATE_ID  VARCHAR(10)  NULL ,
	REF	 	INT,
	RESTEP	 	INT,
	RELEVEL	 	INT,
	ALARM_YN	CHAR(1) NULL,
	PRVT_YN		CHAR(1) NULL,
	WRITE_IP  VARCHAR(50)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE NOTI_INFO ADD   PRIMARY KEY (NOTI_ID);


CREATE TABLE NOTI_OPN
(
	NOTI_ID  VARCHAR(10)  NOT NULL ,
	NOTI_OPN_SEQ  INT  NOT NULL,
	UP_NOTI_OPN_SEQ  INT  NULL ,
	OPN_CONTS  VARCHAR(4000)  NULL ,
	USER_ID  VARCHAR(20)  NULL ,
	USER_NM  VARCHAR(50)  NULL ,
	REF	 	INT,
	RESTEP	 	INT,
	RELEVEL	 	INT,
	WRITE_IP  VARCHAR(50)  NULL ,
	DEL_YN  CHAR(1) NULL,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE NOTI_OPN ADD   PRIMARY KEY (NOTI_ID, NOTI_OPN_SEQ);
/*
CREATE  UNIQUE INDEX PK_NOTI_OPN ON NOTI_OPN
(
	NOTI_ID,
	NOTI_OPN_SEQ
);
*/

CREATE TABLE NOTI_OPN_APND_FILE
(
	APND_FILE_SEQ  INT  NOT NULL PRIMARY KEY AUTO_INCREMENT,
	NOTI_ID  VARCHAR(10)  NOT NULL ,
	NOTI_OPN_SEQ  INT  NOT NULL ,
	APND_FILE_TP  VARCHAR(3)  NULL ,
	APND_FILE_SZ  INT  NULL ,
	APND_FILE_ORGN  VARCHAR(500)  NULL ,
	APND_FILE_NM  VARCHAR(100)  NULL ,
	APND_FILE_PATH  VARCHAR(200)  NULL ,
	APND_FILE_PRE_NM  VARCHAR(100)  NULL ,
	APND_FILE_PRE_PATH  VARCHAR(200)  NULL ,
	DEL_YN  CHAR(1)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE  UNIQUE INDEX PK_NOTI_OPN_APND_FILE ON NOTI_OPN_APND_FILE
(
	NOTI_ID,
	NOTI_OPN_SEQ,
	APND_FILE_SEQ
);

CREATE TABLE PSN_USER
(
	USER_ID  INT  NOT NULL PRIMARY KEY AUTO_INCREMENT ,
	USER_NM  VARCHAR(50)  NULL ,
	EMAIL  VARCHAR(100)  NULL ,
	EMAIL_YN VARCHAR(3)  NULL,
	EMAIL_DTTM DATE NULL,
	PWD  VARCHAR(50)  NULL ,
	MOBILE  VARCHAR(50)  NULL ,
	NATION_NM  VARCHAR(50)  NULL ,
	BIRTH_YMD  VARCHAR(8)  NULL ,
	SEX  CHAR(1)  NULL ,
	USER_URL  VARCHAR(100)  NULL ,
	FB_ID  VARCHAR(20)  NULL ,
	MAIL_RECV_YN  CHAR(1)  NULL ,
	END_DTTM  DATE  NULL ,
	END_YN  CHAR(1)  NULL ,
	USER_FILE_NM  VARCHAR(100)  NULL ,
	USER_FILE_PATH  VARCHAR(200)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE  UNIQUE INDEX UK_PSN_USER ON PSN_USER
(
	MOBILE
);


CREATE TABLE USER_SCRAP_INFO
(
	USER_ID  VARCHAR(20)  NOT NULL ,
	NOTI_ID  VARCHAR(10)  NULL ,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE  UNIQUE INDEX PK_USER_SCRAP_INFO ON USER_SCRAP_INFO
(
	USER_ID,
	NOTI_ID
);

CREATE TABLE PSN_OPN
(
	USER_ID  VARCHAR(10)  NOT NULL ,
	PSN_OPN_SEQ  INT  NOT NULL,
	UP_PSN_OPN_SEQ  INT  NULL ,
	OPN_CONTS  VARCHAR(4000)  NULL ,
	REF	 	INT,
	RESTEP	 	INT,
	RELEVEL	 	INT,
	WRITE_IP  VARCHAR(50)  NULL ,
	DEL_YN  CHAR(1) NULL,
	REG_ID  VARCHAR(20)  NULL ,
	REG_DTTM  DATETIME  NULL ,
	UPD_ID  VARCHAR(20)  NULL ,
	UPD_DTTM  DATETIME  NULL 
) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE PSN_OPN ADD   PRIMARY KEY (USER_ID, PSN_OPN_SEQ);
